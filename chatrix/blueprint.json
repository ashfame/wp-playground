{
  "landingPage": "/sample-page/",
  "preferredVersions": {
    "php": "8.0",
    "wp": "latest"
  },
  "steps": [
    {
      "step": "login",
      "username": "admin",
      "password": "password"
    },
    {
      "step": "setSiteOptions",
      "options": {
        "permalink_structure": "/%year%/%monthnum%/%day%/%postname%/"
      }
    },
    {
      "step": "installPlugin",
      "pluginZipFile": {
        "resource": "wordpress.org/plugins",
        "slug": "chatrix"
      }
    },
    {
      "step": "runPHP",
      "code": "<?php\n\nrequire_once 'wordpress/wp-load.php';\n\n$chatrix_block = '<!-- wp:automattic/chatrix {\"instanceId\":\"2530674218113325\",\"defaultHomeserver\":\"matrix.org\"} /-->';\n\n$sample_page_post_id = 2;\n\n$sample_page = get_post( $sample_page_post_id );\n\nwp_update_post( array(\n    'ID' => $sample_page_post_id,\n    'post_content' => $chatrix_block . '  ' . $sample_page->post_content\n) );",
      "progress": {
        "caption": "Doing the thing"
      }
    }
  ]
}
